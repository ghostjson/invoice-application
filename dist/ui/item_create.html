<!DOCTYPE html>
<html>
  <head>
    <title>Items</title>

    <script type="text/javascript" src="/eel.js"></script>
    <script type="text/javascript" src="./assets/js/vue.js"></script>

    <link rel="stylesheet" href="assets/css/materialize.min.css" />
    <script type="text/javascript" src="assets/js/materialize.min.js"></script>

  </head>
  <body>
    <nav class="grey darken-4">
      <div class="nav-wrapper">
        <a href="#" class="brand-logo">
          <img width="250px" src="assets/images/logo.png" />
        </a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="invoices.html">Invoices</a></li>
          <li><a href="items.html">Items</a></li>
        </ul>
      </div>
    </nav>

    <div id="app">
      <div class="">
        <div class="row">
          <div class="col s12">
            <h3>Create Item</h3>

            <div class="card">
              <div class="card-stacked">
                <div class="card-content">
									<form classrow>
										<div class="s12">
											<div class="input-field">
												<label for="name" >Name: </label>
												<input id="name" type="text" class="validate" v-model="item['name']">
											</div>
											<div class="input-field">
												<label for="category" >Category: </label>
												<input id="category" type="text" class="validate" v-model="item['category']">
											</div>
											<div class="input-field">
												<label for="rff" >rff: </label>
												<input id="rff" type="text" class="validate" v-model="item['rff']">
											</div>
											<div class="input-field">
												<label for="specification" >Specification: </label>
												<input id="specification" type="text" class="validate" v-model="item['specification']">
											</div>
											<div class="input-field">
												<label for="unit" >Unit: </label>
												<input id="unit" type="text" class="validate" v-model="item['unit']">
											</div>
											<div class="input-field">
												<label for="performance" >Performance: </label>
												<input id="performance" type="text" class="validate" v-model="item['performance']">
											</div>
											<div class="input-field">
												<label for="cpc">CPC: </label>
												<input id="cpc" type="text" class="validate" v-model="item['cpc']">
											</div>
										</div>

										<button type="button" class="btn" @click="create">Create</button>
									</form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      const app = new Vue({
        el: "#app",
        data: {
          item: {
						name: '',
						category: '',
						rff: '',
						specification: '',
						unit: '',
						performance: '',
						cpc: ''
					},
          params: [],
        },
        methods: {
					create(){
						const item = this.item
						eel.dbUPDATE(`INSERT INTO Items (name, category, rff, specification,unit, performance, cpc) \
						VALUES ('${item["name"]}', '${item["category"]}', '${item["rff"]}', '${item["specification"]}', '${item["unit"]}', '${item["performance"]}', '${item["cpc"]}')`)
						alert("successfully created")

						window.location = "items.html"
					},
        },
        created: function () {

        },
      });
    </script>
    <script></script>
  </body>
</html>